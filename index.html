<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡πÄ‡∏ß‡πá‡∏ö‡∏≠‡∏≠‡∏Å‡∏ö‡∏¥‡∏•‡∏´‡∏ß‡∏¢‡πÇ‡∏á‡πà‡πÜ (‡∏£‡∏ß‡∏°‡∏¢‡∏≠‡∏î)</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      max-width: 800px;
      margin: auto;
      background: #fff5f5;
    }
    .row {
      display: flex;
      gap: 10px;
      margin-bottom: 10px;
      align-items: center;
    }
    input[type="text"], input[type="number"] {
      padding: 6px;
      width: 100px;
    }
    button {
      padding: 8px 16px;
      border: none;
      color: white;
      border-radius: 5px;
      cursor: pointer;
    }
    .btn-add {
      background-color: #ff4d4d;
    }
    .btn-summary {
      background-color: #4CAF50;
      margin-top: 20px;
    }
    .btn-clear {
      background-color: #ff9800;
    }
    .btn-copy {
      background-color: #007bff;
      margin-left: 10px;
    }
    .bill-area {
      white-space: pre-wrap;
      background: #f2f2f2;
      padding: 15px;
      border: 1px solid #ccc;
      margin-top: 20px;
    }
    table {
      width: 100%;
      margin-top: 10px;
      border-collapse: collapse;
    }
    table, th, td {
      border: 1px solid #ccc;
    }
    th, td {
      padding: 8px;
      text-align: center;
    }
  </style>
</head>
<body>

  <h2>üìÑ ‡πÄ‡∏ß‡πá‡∏ö‡∏≠‡∏≠‡∏Å‡∏ö‡∏¥‡∏•‡∏´‡∏ß‡∏¢‡πÇ‡∏á‡πà‡πÜ (‡∏£‡∏ß‡∏°‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô)</h2>

  <div class="row">
    <input type="text" id="lottoNumber" placeholder="‡πÄ‡∏•‡∏Ç">
    <button class="btn-clear" onclick="reverseNumber()">‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏•‡∏Ç</button>
    <input type="number" id="topAmount" placeholder="‡∏ö‡∏ô">
    <input type="number" id="bottomAmount" placeholder="‡∏•‡πà‡∏≤‡∏á">
    <button class="btn-add" onclick="addBill()">‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏¥‡∏•</button>
  </div>

  <table id="billTable" style="display:none;">
    <thead>
      <tr>
        <th>‡πÄ‡∏•‡∏Ç</th>
        <th>‡∏ö‡∏ô</th>
        <th>‡∏•‡πà‡∏≤‡∏á</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <button class="btn-summary" onclick="generateSummary()">üìã ‡∏™‡∏£‡∏∏‡∏õ‡∏ö‡∏¥‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
  <button class="btn-copy" onclick="copySummary()" style="display:none;" id="copyBtn">üìã ‡∏Å‡πá‡∏≠‡∏õ‡∏ö‡∏¥‡∏•</button>

  <div class="bill-area" id="resultArea" style="display:none;"></div>

  <script>
    const bills = [];
    let summaryText = "";

    function reverseNumber() {
      const num = document.getElementById('lottoNumber').value.trim();
      if (num.length >= 2) {
        const reversed = num.split('').reverse().join('');
        document.getElementById('lottoNumber').value = reversed;
      }
    }

    function addBill() {
      const number = document.getElementById('lottoNumber').value.trim();
      const top = document.getElementById('topAmount').value.trim();
      const bottom = document.getElementById('bottomAmount').value.trim();

      if (!number || (!top && !bottom)) {
        alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡πÄ‡∏•‡∏Ç ‡πÅ‡∏•‡∏∞‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 ‡∏ä‡πà‡∏≠‡∏á (‡∏ö‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏•‡πà‡∏≤‡∏á)");
        return;
      }

      bills.push({ number, top: parseFloat(top) || 0, bottom: parseFloat(bottom) || 0 });
      updateTable();

      document.getElementById('lottoNumber').value = '';
      document.getElementById('topAmount').value = '';
      document.getElementById('bottomAmount').value = '';
    }

    function updateTable() {
      const tbody = document.querySelector("#billTable tbody");
      tbody.innerHTML = '';
      bills.forEach(b => {
        const row = `<tr>
          <td>${b.number}</td>
          <td>${b.top ? b.top + '‡∏ø' : '-'}</td>
          <td>${b.bottom ? b.bottom + '‡∏ø' : '-'}</td>
        </tr>`;
        tbody.innerHTML += row;
      });
      document.getElementById('billTable').style.display = 'table';
    }

    function generateSummary() {
      if (bills.length === 0) {
        alert("‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ö‡∏¥‡∏•");
        return;
      }

      let total = 0;
      let text = "üìÑ ‡∏ö‡∏¥‡∏•‡∏´‡∏ß‡∏¢\n\n";

      bills.forEach(b => {
        let line = `‡πÄ‡∏•‡∏Ç ${b.number} `;
        if (b.top) line += `‡∏ö‡∏ô ${b.top}‡∏ø `;
        if (b.bottom) line += `‡∏•‡πà‡∏≤‡∏á ${b.bottom}‡∏ø`;
        total += b.top + b.bottom;
        text += line.trim() + '\n';
      });

      text += `\nüí∞ ‡∏£‡∏ß‡∏°‡∏¢‡∏≠‡∏î‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: ${total.toLocaleString()} ‡∏ö‡∏≤‡∏ó`;

      summaryText = text.trim();
      document.getElementById('resultArea').innerText = summaryText;
      document.getElementById('resultArea').style.display = 'block';
      document.getElementById('copyBtn').style.display = 'inline-block';
    }

    function copySummary() {
      navigator.clipboard.writeText(summaryText)
        .then(() => alert("üìã ‡∏Å‡πá‡∏≠‡∏õ‡∏ö‡∏¥‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!"))
        .catch(() => alert("‚ùå ‡∏Å‡πá‡∏≠‡∏õ‡∏ö‡∏¥‡∏•‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à"));
    }
  </script>

</body>
</html>
